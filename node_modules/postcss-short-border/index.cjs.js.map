{"version":3,"file":"index.cjs.js","sources":["index.js"],"sourcesContent":["import postcss from 'postcss';\n\nexport default postcss.plugin('postcss-short-border', opts => {\n\t// options\n\tconst prefix = 'prefix' in Object(opts) ? `-${opts.prefix}-` : '';\n\tconst skip = 'skip' in Object(opts) ? String(opts.skip) : '*';\n\n\t// property pattern\n\tconst propertyMatch = new RegExp(`^${prefix}(border(?:-(color|style|width))?)$`);\n\n\t// process a matched declaration\n\tconst processMatchedDeclaration = decl => {\n\t\t// unprefixed property\n\t\tconst property = decl.prop.match(propertyMatch)[1];\n\n\t\t// inner-property (color, style, width)\n\t\tconst innerProperty = decl.prop.match(propertyMatch)[2];\n\n\t\t// if a prefix is in use\n\t\tif (prefix) {\n\t\t\t// remove it from the property\n\t\t\tdecl.prop = property;\n\t\t}\n\n\t\t// if a border has an inner-property\n\t\tif (innerProperty) {\n\t\t\t// spaced-separated values (top, right, bottom, left)\n\t\t\tconst values = postcss.list.space(decl.value);\n\n\t\t\t// if the values contain a skip token\n\t\t\tif (values.indexOf(skip) !== -1) {\n\t\t\t\t// conditionally add a right value\n\t\t\t\tif (values.length === 1) {\n\t\t\t\t\tvalues.push(values[0]);\n\t\t\t\t}\n\n\t\t\t\t// conditionally add a bottom value\n\t\t\t\tif (values.length === 2) {\n\t\t\t\t\tvalues.push(values[0]);\n\t\t\t\t}\n\n\t\t\t\t// conditionally add a left value\n\t\t\t\tif (values.length === 3) {\n\t\t\t\t\tvalues.push(values[1]);\n\t\t\t\t}\n\n\t\t\t\t// for each value\n\t\t\t\tvalues.forEach((value, index) => {\n\t\t\t\t\t// if the value is not a skip token\n\t\t\t\t\tif (value !== skip) {\n\t\t\t\t\t\t// create a new declaration for the border side inner-property\n\t\t\t\t\t\tdecl.cloneBefore({\n\t\t\t\t\t\t\tprop: `border-${ sides[index] }-${ innerProperty }`,\n\t\t\t\t\t\t\tvalue: value\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// remove the original declaration\n\t\t\t\tdecl.remove();\n\t\t\t}\n\t\t} else if (postcss.list.split(decl.value, '/').length > 1) {\n\t\t\t// for each of the border values\n\t\t\tpostcss.list.split(decl.value, '/').forEach((values, index) => {\n\t\t\t\t// process the new declaration for the border inner-property\n\t\t\t\tprocessMatchedDeclaration(decl.cloneBefore({\n\t\t\t\t\tprop: `${prefix}border-${properties[index]}`,\n\t\t\t\t\tvalue: values\n\t\t\t\t}));\n\t\t\t});\n\n\t\t\t// remove the original declaration\n\t\t\tdecl.remove();\n\t\t}\n\t};\n\n\treturn root => {\n\t\t// walk each matching declaration\n\t\troot.walkDecls(propertyMatch, processMatchedDeclaration);\n\t};\n});\n\n// border properties\nconst properties = ['width', 'style', 'color'];\n\n// border sides\nconst sides = ['top', 'right', 'bottom', 'left'];\n"],"names":["postcss","plugin","opts","prefix","Object","skip","String","propertyMatch","RegExp","processMatchedDeclaration","decl","property","prop","match","innerProperty","values","list","space","value","indexOf","length","push","forEach","index","cloneBefore","sides","remove","split","properties","root","walkDecls"],"mappings":";;;;;;AAEA,YAAeA,OAAO,CAACC,MAAR,CAAe,sBAAf,EAAuCC,IAAI,IAAI;;QAEvDC,MAAM,GAAG,YAAYC,MAAM,CAACF,IAAD,CAAlB,GAA4B,IAAGA,IAAI,CAACC,MAAO,GAA3C,GAAgD,EAA/D;QACME,IAAI,GAAG,UAAUD,MAAM,CAACF,IAAD,CAAhB,GAAyBI,MAAM,CAACJ,IAAI,CAACG,IAAN,CAA/B,GAA6C,GAA1D,CAH6D;;QAMvDE,aAAa,GAAG,IAAIC,MAAJ,CAAY,IAAGL,MAAO,oCAAtB,CAAtB,CAN6D;;QASvDM,yBAAyB,GAAGC,IAAI,IAAI;;UAEnCC,QAAQ,GAAGD,IAAI,CAACE,IAAL,CAAUC,KAAV,CAAgBN,aAAhB,EAA+B,CAA/B,CAAjB,CAFyC;;UAKnCO,aAAa,GAAGJ,IAAI,CAACE,IAAL,CAAUC,KAAV,CAAgBN,aAAhB,EAA+B,CAA/B,CAAtB,CALyC;;QAQrCJ,MAAJ,EAAY;;MAEXO,IAAI,CAACE,IAAL,GAAYD,QAAZ;KAVwC;;;QAcrCG,aAAJ,EAAmB;;YAEZC,MAAM,GAAGf,OAAO,CAACgB,IAAR,CAAaC,KAAb,CAAmBP,IAAI,CAACQ,KAAxB,CAAf,CAFkB;;UAKdH,MAAM,CAACI,OAAP,CAAed,IAAf,MAAyB,CAAC,CAA9B,EAAiC;;YAE5BU,MAAM,CAACK,MAAP,KAAkB,CAAtB,EAAyB;UACxBL,MAAM,CAACM,IAAP,CAAYN,MAAM,CAAC,CAAD,CAAlB;SAH+B;;;YAO5BA,MAAM,CAACK,MAAP,KAAkB,CAAtB,EAAyB;UACxBL,MAAM,CAACM,IAAP,CAAYN,MAAM,CAAC,CAAD,CAAlB;SAR+B;;;YAY5BA,MAAM,CAACK,MAAP,KAAkB,CAAtB,EAAyB;UACxBL,MAAM,CAACM,IAAP,CAAYN,MAAM,CAAC,CAAD,CAAlB;SAb+B;;;QAiBhCA,MAAM,CAACO,OAAP,CAAe,CAACJ,KAAD,EAAQK,KAAR,KAAkB;;cAE5BL,KAAK,KAAKb,IAAd,EAAoB;;YAEnBK,IAAI,CAACc,WAAL,CAAiB;cAChBZ,IAAI,EAAG,UAAUa,KAAK,CAACF,KAAD,CAAS,IAAIT,aAAe,EADlC;cAEhBI,KAAK,EAAEA;aAFR;;SAJF,EAjBgC;;QA6BhCR,IAAI,CAACgB,MAAL;;KAlCF,MAoCO,IAAI1B,OAAO,CAACgB,IAAR,CAAaW,KAAb,CAAmBjB,IAAI,CAACQ,KAAxB,EAA+B,GAA/B,EAAoCE,MAApC,GAA6C,CAAjD,EAAoD;;MAE1DpB,OAAO,CAACgB,IAAR,CAAaW,KAAb,CAAmBjB,IAAI,CAACQ,KAAxB,EAA+B,GAA/B,EAAoCI,OAApC,CAA4C,CAACP,MAAD,EAASQ,KAAT,KAAmB;;QAE9Dd,yBAAyB,CAACC,IAAI,CAACc,WAAL,CAAiB;UAC1CZ,IAAI,EAAG,GAAET,MAAO,UAASyB,UAAU,CAACL,KAAD,CAAQ,EADD;UAE1CL,KAAK,EAAEH;SAFkB,CAAD,CAAzB;OAFD,EAF0D;;MAW1DL,IAAI,CAACgB,MAAL;;GA7DF;;SAiEOG,IAAI,IAAI;;IAEdA,IAAI,CAACC,SAAL,CAAevB,aAAf,EAA8BE,yBAA9B;GAFD;CA1Ec,CAAf;;AAiFA,MAAMmB,UAAU,GAAG,CAAC,OAAD,EAAU,OAAV,EAAmB,OAAnB,CAAnB;;AAGA,MAAMH,KAAK,GAAG,CAAC,KAAD,EAAQ,OAAR,EAAiB,QAAjB,EAA2B,MAA3B,CAAd;;;;"}