{"version":3,"file":"index.es.mjs","sources":["index.js"],"sourcesContent":["import postcss from 'postcss';\n\nexport default postcss.plugin('postcss-short-border-radius', opts => {\n\tconst prefix = 'prefix' in Object(opts) ? `-${opts.prefix}-` : '';\n\tconst skip = 'skip' in Object(opts) ? String(opts.skip) : '*';\n\n\t// border-radius selector pattern\n\tconst borderRadiusPropertyRegExp = new RegExp(`^${prefix}border-(bottom|left|right|top)-radius$`);\n\n\treturn root => {\n\t\t// walk each matching declaration\n\t\troot.walkDecls(borderRadiusPropertyRegExp, decl => {\n\t\t\t// border-radius properties\n\t\t\tconst properties = propertiesBySide[decl.prop.match(borderRadiusPropertyRegExp)[1]];\n\n\t\t\t// spaced-separated values (top, right, bottom, left)\n\t\t\tconst values = postcss.list.space(decl.value);\n\n\t\t\t// for each side property\n\t\t\tproperties.forEach((side, index) => {\n\t\t\t\t// value of the current or first side\n\t\t\t\tconst value = index in values ? values[index] : values[0];\n\n\t\t\t\t// if the value is not a skip token\n\t\t\t\tif (value !== skip) {\n\t\t\t\t\t// create a new declaration for the border-radius side property\n\t\t\t\t\tdecl.cloneBefore({\n\t\t\t\t\t\tprop: side,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// remove the original declaration\n\t\t\tdecl.remove();\n\t\t});\n\t};\n});\n\n// border-radius properties by side\nconst propertiesBySide = {\n\tbottom: ['border-bottom-left-radius', 'border-bottom-right-radius'],\n\tleft:   ['border-top-left-radius',    'border-bottom-left-radius'],\n\tright:  ['border-top-right-radius',   'border-bottom-right-radius'],\n\ttop:    ['border-top-left-radius',    'border-top-right-radius']\n};\n"],"names":["postcss","plugin","opts","prefix","Object","skip","String","borderRadiusPropertyRegExp","RegExp","root","walkDecls","decl","properties","propertiesBySide","prop","match","values","list","space","value","forEach","side","index","cloneBefore","remove","bottom","left","right","top"],"mappings":";;AAEA,YAAeA,OAAO,CAACC,MAAR,CAAe,6BAAf,EAA8CC,IAAI,IAAI;QAC9DC,MAAM,GAAG,YAAYC,MAAM,CAACF,IAAD,CAAlB,GAA4B,IAAGA,IAAI,CAACC,MAAO,GAA3C,GAAgD,EAA/D;QACME,IAAI,GAAG,UAAUD,MAAM,CAACF,IAAD,CAAhB,GAAyBI,MAAM,CAACJ,IAAI,CAACG,IAAN,CAA/B,GAA6C,GAA1D,CAFoE;;QAK9DE,0BAA0B,GAAG,IAAIC,MAAJ,CAAY,IAAGL,MAAO,wCAAtB,CAAnC;SAEOM,IAAI,IAAI;;IAEdA,IAAI,CAACC,SAAL,CAAeH,0BAAf,EAA2CI,IAAI,IAAI;;YAE5CC,UAAU,GAAGC,gBAAgB,CAACF,IAAI,CAACG,IAAL,CAAUC,KAAV,CAAgBR,0BAAhB,EAA4C,CAA5C,CAAD,CAAnC,CAFkD;;YAK5CS,MAAM,GAAGhB,OAAO,CAACiB,IAAR,CAAaC,KAAb,CAAmBP,IAAI,CAACQ,KAAxB,CAAf,CALkD;;MAQlDP,UAAU,CAACQ,OAAX,CAAmB,CAACC,IAAD,EAAOC,KAAP,KAAiB;;cAE7BH,KAAK,GAAGG,KAAK,IAAIN,MAAT,GAAkBA,MAAM,CAACM,KAAD,CAAxB,GAAkCN,MAAM,CAAC,CAAD,CAAtD,CAFmC;;YAK/BG,KAAK,KAAKd,IAAd,EAAoB;;UAEnBM,IAAI,CAACY,WAAL,CAAiB;YAChBT,IAAI,EAAEO,IADU;YAEhBF,KAAK,EAAEA;WAFR;;OAPF,EARkD;;MAuBlDR,IAAI,CAACa,MAAL;KAvBD;GAFD;CAPc,CAAf;;AAsCA,MAAMX,gBAAgB,GAAG;EACxBY,MAAM,EAAE,CAAC,2BAAD,EAA8B,4BAA9B,CADgB;EAExBC,IAAI,EAAI,CAAC,wBAAD,EAA8B,2BAA9B,CAFgB;EAGxBC,KAAK,EAAG,CAAC,yBAAD,EAA8B,4BAA9B,CAHgB;EAIxBC,GAAG,EAAK,CAAC,wBAAD,EAA8B,yBAA9B;CAJT;;;;"}